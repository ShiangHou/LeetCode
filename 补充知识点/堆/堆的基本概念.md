# 堆
堆本质上是一个完全的二叉树

## 基础概念

堆又分大顶堆和小顶堆，以大顶堆为例子，这个树的根节点是最小的，对于任意一个节点而言，它的左右子树一定都要比这个节点大

## 堆的储存方式
一般来说，我们会用一个数组来去表示树，0位置是根节点，对于位置i，他的左节点是2 * i+1，右节点是2 * i+2，父节点是（i-1）/2 向下取整，（自己推一推就行，很简单）

## 堆的核心操作
作为一种数据结构，堆有两个比较重要的操作，并且时间复杂度还比较小

首先是插入一个数，当我们插入一个树的时候，需要做以下几点

1：将数字放到末尾

2：检查是否小于父节点，是的话就和父节点换位置，然后继续，直到到达root

这个一般被称呼为上浮

然后是弹出一个数，

一般来说，弹出的是根，即那个最小的，

弹出后，我们为了尽可能的维持二叉树的结构，从最后面取一个，放到堆顶，然后让他和左右子树比较，直到比较成功。

这个也成为**下沉**

对于一个总长度为n的堆，插入和弹出的时间复杂度都是logn

## python中的堆

python中自带的heapq

首先是创建一个堆

```python 
nums = [5, 7, 9, 1, 3]

heapq.heapify(nums)

print(nums)
#会输出[1, 3, 9, 7, 5]
```

插入和弹出

```python 
heapq.heappush(nums, 2)#在nums里面插入2
min_val = heapq.heappop(nums)#弹出顶，如果不想弹出只想访问，直接nums[0]就行


```