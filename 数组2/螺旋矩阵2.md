# 螺旋矩阵2
力扣59 https://leetcode.cn/problems/spiral-matrix-ii/

## 首先思路

首先没有思路，看到介绍的时候说的二分，以为用二分做，但其实只是用了二分的开闭区间的思想而已

思考一下，这个其实就是右——下——左——上一直循环填就行，所以有一个主的循环，然后主循环下面执行右——下——左——上，然后换一个起点，然后继续右——下——左——上

那么我们需要确定几个变量，首先是这个循环要走几次。n是一个正方形的边长，当循环走了一次的时候，相当于是左边和右边各去掉一格，所以去掉了两格子，因此当n为偶数的时候，直接/2，就行，n是奇数的时候，除完2还会剩一个，就是最中间那个，那我们最后加一个就行

此外，每个内循环，需要左闭右开，这样可以保证每次的起点和终点都合适

同时需要注意每一个的起点和终点的位置，总之就是需要very的小心


```python 
    def generateMatrix(self, n: int) -> List[List[int]]:
        loop = n // 2
        startx,starty = 0,0 
        ans = [ [0]*n for _ in range(n)]
        count = 1
        for k in range(loop):
            #每一圈结束后，搜会缩小n-k-1
            end_idx = n - 1 - k

            #右,行固定为startx，列从stary到每一圈的约束
            for i in range(starty,end_idx):
                ans[startx][i] = count
                count+=1
            #下，列固定为end_idx，行从startx到约束
            for i in range(startx,end_idx):
                ans[i][end_idx] = count
                count += 1
            #左,行固定为end_idx，列从end_idx到srarty
            for i in range(end_idx,starty,-1):
                ans[end_idx][i] = count
                count += 1
            #上,列固定为starty,行从end_idx 到startx
            for i in range(end_idx,startx,-1):
                ans[i][starty] = count
                count+=1
            startx +=1
            starty +=1

        if n%2 != 0:
            ans[n//2][n//2] = n**2
        return ans
```
